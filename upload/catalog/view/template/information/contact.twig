{{ header }}
<div id="information-contact" class="container my-2 md:my-4">


   <div class="breadcrumb">
   <a href="{{ home }}">
   <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 fill-secondary" viewBox="0 0 20 20" fill="currentColor">
            <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" />
        </svg>
      </a>
    {% for breadcrumb in breadcrumbs %}
     <a class="breadcrumb-child" href="{{ breadcrumb.href }}">{{ breadcrumb.text }}</a>
     <span class="mx-2  dark:text-gray-300 rtl:-scale-x-100">
     
        <svg xmlns="http://www.w3.org/2000/svg" 
        class="w-5 h-5 fill-secondary" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
        </svg>
    </span>
    {% endfor %}
  </div>


  <div class="">
    {{ column_left }}
         <h1 class="heading-title my-2">{{ heading_title }}</h1>
    <div id="content" class=" grid grid-cols-1 md:grid-cols-2 gap-2  ">
      {{ content_top }}
     {#
      <div class="border-dashed p-2 m-2 border-2 basis-1/2 flex flex-col   ">

      <h3 class=" font-bold text-xl">{{ text_location }}</h3>

        <div class="border-dashed border-2 ">

          <div class="grid grid-cols-6 gap-4 ">

            {% if image %}
            <div class="col-span-3 ">
              <img
                src="{{ image }}"
                alt="{{ store }}"
                title="{{ store }}"
                class=""
              />
            </div>
            {% endif %}


            <div class="col-span-3">
              <strong>{{ store }}</strong>
              <br />
              <address>
                {{ address }}
              </address>
              {% if geocode %}
              <a
                href="https://maps.google.com/maps?q={{
                  geocode | url_encode
                }}&hl={{ geocode_hl }}&t=m&z=15"
                target="_blank"
                class="btn btn-info"
                ><i class="fa-solid fa-location-dot"></i> {{ button_map }}</a
              >
              {% endif %}
            </div>


            <div class="col-span-3">
              <strong>{{ text_telephone }}</strong>
              <br />
              {{ telephone }}
              <br />
              <br />
            </div>


            <div class="col-span-3">
              {% if open %}
              <strong>{{ text_open }}</strong>
              <br />
              {{ open }}
              <br />
              <br />
              {% endif %} 
            </div>

<div class="flex flex-col col-span-6 ">
{% if comment %}
              <strong>{{ text_comment }}</strong>
            
            <p class="">  {{ comment }} </p>
              {% endif %}
</div>
          </div>
        </div>
      </div>
      #}  


{#more store#}
       {% if locations %}
     
      <div id="accordion" class="card-group flex flex-col gap-4 ">
        <h3 class=" font-bold text-xl p-2 rounded-lg bg-red-300 w-1/2">{{ text_store }}</h3>
        {% for location in locations %}
        <div class=" ">

     <div id="map"></div>
         
          <div class="card-header">
            {% if location.geocode %}
            <div 
            id = "{{ location.location_id }}"
             class=" h-44 bg-red-300 rounded-t-xl"></div>
            {% endif %}
            
<!-- 
            <h4 class="card-title pt-2">
              <a
                href="#collapse-location-{{ location.location_id }}"
                class="accordion-toggle"
                data-bs-toggle="collapse"
                data-bs-parent="#accordion"
                >{{ location.name }} <i class="fa-solid fa-caret-down"></i
              ></a>
            </h4> -->

          </div>
        
          <div
            class="card-collapse rounded-b-xl pb-1 collapse"
            id="collapse-location-{{ location.location_id }}"
          >
            <div class="card-body bg-primary-200">

              <div class="row flex flex-col px-2   gap-2">

               

                <div class="col-sm-3 flex items-center justify-between ">
                  <div class="flex items-center ">
                  {% if location.image %}
               
                     <img
                      src="{{ location.image }}"
                      alt="{{ location.name }}"
                      title="{{ location.name }}"
                      class="w-32 object-fill"
                    /> 
               
                  {% endif %}
                  <a
                  href="#collapse-location-{{ location.location_id }}"
                  class=" text-blue-800 font-bold text-xl"
                  data-bs-toggle="collapse"
                  data-bs-parent="#accordion"
                  >{{ location.name }} </a>
                
                </div>
                
               

                </div>

                <div class="col-sm-3 flex flex-col gap-1">
                  <strong class="flex gap-2 items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z" />
                    </svg>
                    
                    {{ text_telephone }} 
                  </strong>
                  <a href="tel:{{ location.telephone }}">{{ location.telephone }}</a>
                  
                </div>
                                
<div class=" flex flex-col gap-1 ">
 
  <strong class=" flex  gap-2 items-center">

    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
      <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" />
      <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z" />
    </svg>
    العنوان
  </strong>
  <address>
    {{ location.address }}
  </address>
  {#
    {% if location.geocode %}

 
  <a
    href="https://maps.google.com/maps?q={{ location.geocode | url_encode }}&hl={{ geocode_hl }}&t=m&z=15"
    target="_blank"
    class="btn btn-info"
    ><i class="fa-solid fa-location-dot"></i>
    {{ button_map }}</a
  >
  {% endif %}#}
</div>
                

                <div class="col-sm-3  flex flex-col gap-1">
                  {% if location.open %}
                  <strong class=" flex gap-2 items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    
                    {{ text_open }}
                  </strong>
              
                  {{ location.open }}
             
                  {% endif %}
                  
                </div>
                
                 <div class="col-sm-3  ">
                  {% if location.comment %}
                  <strong class=" flex gap-2 items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z" />
                    </svg>
                    
                    {{ text_comment }}</strong>
              
                  <p class="mr-4"> {{ location.comment }} </p>
                  {% endif %}
                 </div>


              </div>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
      {% endif %} 



      <form
        id="form-contact"
        action="{{ send }}"
        method="post"
        data-oc-toggle="ajax"
        class="m-2 basis-1/2 p-2 border-dotted border-2  border-primary-600"
      >
        <fieldset class="flex flex-col gap-2 ">
          <legend class="heading-title">{{ text_contact }}</legend>
          <div class="required">
            <label for="input-name" class="col-sm-2 col-form-label">{{
              entry_name
            }}</label>
            <div class="col-sm-10">
              <input
                type="text"
                name="name"
                value="{{ name }}"
                id="input-name"
                class="form-control"
              />
              <div id="error-name" class="invalid-feedback"></div>
            </div>
          </div>

          
          <div class="required">
            <label for="input-email" class="col-sm-2 col-form-label">{{
              entry_email
            }}</label>

            <div class="relative">
             <input
                type="text"
                name="email"
                value="{{ email }}"
                id="input-email"
                class="form-email"
              />
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class=" absolute inset-x-2 inset-y-3 w-6 h-6 text-black dark:text-gray-500"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              stroke-width="2"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
              />
            </svg>
          </div>
             
             
              <div id="error-email" class="invalid-feedback"></div>
            </div>
          

          
          <div class="required">
            <label for="input-enquiry" class="col-form-label">{{
              entry_enquiry
            }}</label>
            <div class="col-sm-10">
              <textarea
                name="enquiry"
                rows="5"
                id="input-enquiry"
                class="form-textarea w-full rounded-xl"
              ></textarea>
              <div id="error-enquiry" class="invalid-feedback"></div>
            </div>
          </div>
          {{ captcha }}
        </fieldset>

          <div class="text-center">
            <button type="submit" class="btn-primary w-1/3">
              {{ button_submit }}
            </button>
          </div>
      
      </form>
      {{ content_bottom }}
    </div>
    {{ column_right }}
  </div>
</div>
{{ footer }} 
<script async defer
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBEEJKDejOw7F4QK2_xllkgH4MeOgQvuuI&callback=initMap">
</script>

<script type="text/javascript"><!--
function initMap() {
  // The location of Uluru
  const uluru = { lat: -25.344, lng: 131.031 };
  // The map, centered at Uluru
  const map = new google.maps.Map(document.getElementById("map"), {
    zoom: 4,
    center: uluru,
  });
  // The marker, positioned at Uluru
  const marker = new google.maps.Marker({
    position: uluru,
    map: map,
  });
}

window.initMap = initMap;
// function initialize() {
//   // array of lat and lng locations
//   let locations = [{
//       lat: -33.91722,
//       lng: 151.23064,
//       markers: [{
//           lat: -33.91722,
//           lng: 151.23064,
//           info: "this is a marker at -33.91722,151.23064"
//         }, {
//           lat: -33.8722,
//           lng: 151.03064,
//           info: "this is a marker at -33.8722,151.03064"
//         },
//         {
//           lat: -33.5722,
//           lng: 151.03064,
//           info: "this is a marker at -33.5722,151.03064"
//         }
//       ]
//     },
//     {
//       lat: 22.3193,
//       lng: 114.1694,
//       markers: [{
//         lat: 22.3193,
//         lng: 114.1694,
//         info: "this is a marker at 22.3193,114.1694"
//       }]
//     },
    
//   ];

      
//   let elements = ['1', '2'];

//   window.addEventListener('load',
  
//     function() {
     
//       for (i = 0; i < elements.length; i++) {
//         initMap(locations[i], elements[i], new google.maps.InfoWindow());
//         console.log(elements[i]);
//         console.log(locations[i])
//       }
//     }, false);

//   function initMap(location, element, infowindow) {
//     console.log(location)
//     console.log(element)
//     map = new google.maps.Map(document.getElementById(element), {
//       zoom: 4,
//       center: location
//     });
//     if (location.markers) {
//       for (var i = 0; i < location.markers.length; i++) {
//         createMarker(location.markers[i], map, infowindow);
//       }
//     }
//   }

//   function createMarker(location, map, infowindow) {
//     let marker = new google.maps.Marker({
//       position: location,
//       map: map
//     });
//     google.maps.event.addListener(marker, 'click', function(evt) {
//       infowindow.setContent(location.info);
//       infowindow.open(map, marker);
//     })
//   }
// }

//--></script>




{# {{ header }}
const elements =[];
{% if locations %}
 {% for location in locations %}
   
     {% if location.geocode %}
     alert( 'kk');
     elements.push('{{ location.location_id }}'); // array of html element ids
     {% endif %}

     {% endfor %}
    
{% endif %}
<div id="information-contact" class="container">
  <ul class="breadcrumb">
    {% for breadcrumb in breadcrumbs %}
    <li class="breadcrumb-item">
      <a href="{{ breadcrumb.href }}">{{ breadcrumb.text }}</a>
    </li>
    {% endfor %}
  </ul>
  <div class="row">
    {{ column_left }}
    <div id="content" class="col">
      {{ content_top }}
      <h1>{{ heading_title }}</h1>
      <h3>{{ text_location }}</h3>
      <div class="card">
        <div class="card-body">
          <div class="row">
            {% if image %}
            <div class="col-sm-3">
              <img
                src="{{ image }}"
                alt="{{ store }}"
                title="{{ store }}"
                class="img-thumbnail"
              />
            </div>
            {% endif %}
            <div class="col-sm-3">
              <strong>{{ store }}</strong>
              <br />
              <address>
                {{ address }}
              </address>
              {% if geocode %}
              <a
                href="https://maps.google.com/maps?q={{
                  geocode | url_encode
                }}&hl={{ geocode_hl }}&t=m&z=15"
                target="_blank"
                class="btn btn-info"
                ><i class="fa-solid fa-location-dot"></i> {{ button_map }}</a
              >
              {% endif %}
            </div>
            <div class="col-sm-3">
              <strong>{{ text_telephone }}</strong>
              <br />
              {{ telephone }}
              <br />
              <br />
            </div>
            <div class="col-sm-3">
              {% if open %}
              <strong>{{ text_open }}</strong>
              <br />
              {{ open }}
              <br />
              <br />
              {% endif %} {% if comment %}
              <strong>{{ text_comment }}</strong>
              <br />
              {{ comment }}
              {% endif %}
            </div>
          </div>
        </div>
      </div>
      {% if locations %}
      <h3>{{ text_store }}</h3>
      <div id="accordion" class="card-group">
        {% for location in locations %}
        <div class="card">
          <div class="card-header">
            <h4 class="card-title pt-2">
              <a
                href="#collapse-location-{{ location.location_id }}"
                class="accordion-toggle"
                data-bs-toggle="collapse"
                data-bs-parent="#accordion"
                >{{ location.name }} <i class="fa-solid fa-caret-down"></i
              ></a>
            </h4>
          </div>
          <div
            class="card-collapse collapse"
            id="collapse-location-{{ location.location_id }}"
          >
            <div class="card-body">
              <div class="row">
                {% if location.image %}
                <div class="col-sm-3">
                  <img
                    src="{{ location.image }}"
                    alt="{{ location.name }}"
                    title="{{ location.name }}"
                    class="img-thumbnail"
                  />
                </div>
                {% endif %}
                <div class="col-sm-3">
                  <strong>{{ location.name }}</strong>
                  <br />
                  <address>
                    {{ location.address }}
                  </address>
                  {% if location.geocode %}
                  <a
                    href="https://maps.google.com/maps?q={{
                      location.geocode | url_encode
                    }}&hl={{ geocode_hl }}&t=m&z=15"
                    target="_blank"
                    class="btn btn-info"
                    ><i class="fa-solid fa-location-dot"></i>
                    {{ button_map }}</a
                  >
                  {% endif %}
                </div>
                <div class="col-sm-3">
                  <strong>{{ text_telephone }}</strong>
                  <br />
                  {{ location.telephone }}
                  <br />
                  <br />
                </div>
                <div class="col-sm-3">
                  {% if location.open %}
                  <strong>{{ text_open }}</strong>
                  <br />
                  {{ location.open }}
                  <br />
                  <br />
                  {% endif %} {% if location.comment %}
                  <strong>{{ text_comment }}</strong>
                  <br />
                  {{ location.comment }}
                  {% endif %}
                </div>
              </div>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
      {% endif %}
      <form
        id="form-contact"
        action="{{ send }}"
        method="post"
        data-oc-toggle="ajax"
      >
        <fieldset>
          <legend>{{ text_contact }}</legend>
          <div class="row mb-3 required">
            <label for="input-name" class="col-sm-2 col-form-label">{{
              entry_name
            }}</label>
            <div class="col-sm-10">
              <input
                type="text"
                name="name"
                value="{{ name }}"
                id="input-name"
                class="form-control"
              />
              <div id="error-name" class="invalid-feedback"></div>
            </div>
          </div>
          <div class="row mb-3 required">
            <label for="input-email" class="col-sm-2 col-form-label">{{
              entry_email
            }}</label>
            <div class="col-sm-10">
              <input
                type="text"
                name="email"
                value="{{ email }}"
                id="input-email"
                class="form-control"
              />
              <div id="error-email" class="invalid-feedback"></div>
            </div>
          </div>
          <div class="row mb-3 required">
            <label for="input-enquiry" class="col-sm-2 col-form-label">{{
              entry_enquiry
            }}</label>
            <div class="col-sm-10">
              <textarea
                name="enquiry"
                rows="10"
                id="input-enquiry"
                class="form-control"
              ></textarea>
              <div id="error-enquiry" class="invalid-feedback"></div>
            </div>
          </div>
          {{ captcha }}
        </fieldset>
        <div class="d-inline-block pt-2 pd-2 w-100">
          <div class="text-end">
            <button type="submit" class="btn btn-primary">
              {{ button_submit }}
            </button>
          </div>
        </div>
      </form>
      {{ content_bottom }}
    </div>
    {{ column_right }}
  </div>
</div>
{{ footer }} #}
